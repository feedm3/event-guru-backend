service: alexa-skill-cuecloud

provider:
  name: aws
  runtime: nodejs4.3
  stage: prod
  region: eu-west-1
  memorySize: 512
  cfLogs: true

functions:
  # Alexa
  alexaSkill:
    handler: index.handler
    description: Alexa skill to listen to concerts nearby
    events:
      - alexaSkill
  # Auth
  showLoginPage:
    handler: auth.showLoginPage
    events:
      - http: GET login
  authorizeToken:
    handler: auth.authorizeToken
    events:
      - http: GET authorize/token
  authorizeByCode:
    handler: auth.authorizeByCode
    events:
      - http: GET authorize/commit-code
  # Email
  sendEmail:
    handler: email.send
    events:
      - http: POST emails
  # Events
  getEvents:
    handler: events.getEvents
    events:
      - http: GET events
